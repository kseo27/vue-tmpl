(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dcdc31e"],{"1d83":function(t,e,o){"use strict";o.r(e);var n=o("7a23"),c=function(t){return Object(n["D"])("data-v-710c481d"),t=t(),Object(n["B"])(),t},i={class:"status"},a=c((function(){return Object(n["j"])("section",{style:{height:"1500px"}},"Section for Scrollbar",-1)}));function u(t,e,o,c,u,l){var s=Object(n["I"])("Item"),f=Object(n["I"])("Button");return Object(n["A"])(),Object(n["i"])(n["a"],null,[Object(n["j"])("section",{class:"vt-box mt-4",onWheel:e[0]||(e[0]=Object(n["U"])((function(){return c.onWheel&&c.onWheel.apply(c,arguments)}),["prevent"])),onMousedown:e[1]||(e[1]=Object(n["U"])((function(){return c.onMousedown&&c.onMousedown.apply(c,arguments)}),["prevent"]))},[Object(n["j"])("div",i," wheel event area [ zoom: "+Object(n["M"])(c.zoom)+" ] ",1),Object(n["j"])("div",{ref:c.canvasRef,class:"canvas"},[(Object(n["A"])(!0),Object(n["i"])(n["a"],null,Object(n["G"])(c.items,(function(t){return Object(n["A"])(),Object(n["g"])(s,{key:t,layout:t,zoom:c.zoom},null,8,["layout","zoom"])})),128))],512)],32),Object(n["m"])(f,{label:"add item",class:"my-3",onClick:c.addItem},null,8,["onClick"]),Object(n["m"])(f,{label:"point active",class:"my-3",onClick:c.pointActive},null,8,["onClick"]),a],64)}o("d3b7"),o("159b"),o("99af");var l=o("6557"),s=function(t){return Object(n["D"])("data-v-49852e9e"),t=t(),Object(n["B"])(),t},f=Object(n["l"])(" wheel event item "),r=s((function(){return Object(n["j"])("div",{class:"vt-point"},null,-1)})),d=s((function(){return Object(n["j"])("div",{class:"vt-area"},null,-1)})),v=[f,r,d];function h(t,e,o,c,i,a){return Object(n["A"])(),Object(n["i"])("div",{ref:"item",class:"we-item",style:Object(n["u"])(c.itemStyle),onMousedown:e[0]||(e[0]=function(){return c.onMousedown&&c.onMousedown.apply(c,arguments)})},v,36)}var m=o("5530"),p=(o("a9e3"),{props:{layout:{type:Object,default:function(){return{width:80,height:50}}},zoom:{type:Number,default:1}},setup:function(t){var e,o=Object(n["F"])(),c=Object(n["E"])(Object(m["a"])({},t.layout)),i=Object(n["e"])((function(){var e=c.top,o=c.left,n=c.width,i=c.height;return"top:".concat(e*t.zoom,"px;left:").concat(o*t.zoom,"px;\n\t\t\t\twidth:").concat(n*t.zoom,"px;height:").concat(i*t.zoom,"px")}));Object(n["y"])((function(){console.log("item mounted.",e),e=o.value.offsetParent,console.log(o.value.offsetTop),t.layout.top||(c.top=e.offsetHeight/2-o.value.offsetHeight),t.layout.left||(c.left=e.offsetWidth/2-o.value.offsetWidth)})),Object(n["w"])((function(){e=null}));var a=function(t){console.log("item mousedown."),t.preventDefault(),t.stopPropagation()};return{item:o,itemStyle:i,onMousedown:a}}}),b=(o("5d13"),o("6b0d")),j=o.n(b);const O=j()(p,[["render",h],["__scopeId","data-v-49852e9e"]]);var g=O,w={components:{Item:g},props:{precision:null,canvas:{type:Object,default:function(){return{width:null,height:null}}}},setup:function(t){var e,o,c=function(e){return Object(l["a"])(e,t.precision)},i=Object(n["F"])([]),a=function(t){var e=r.value;console.log(e.offsetHeight*Math.random()>>0,e.offsetWidth*Math.random()>>0),i.value.push({width:100,height:60,top:120,left:320})},u=!1,s=function(t){document.querySelectorAll(".vt-point").forEach((function(t){t.classList.toggle("vt-point-active",u=!u)}))},f=Object(n["F"])(1),r=function(t){console.log("canvasRef.",t),e=t,t||(o=null)};Object(n["y"])((function(){console.log("canvas mounted.",e),o={width:e.offsetWidth,height:e.offsetHeight},i.value.push({width:100,height:60})})),Object(n["w"])((function(){console.log("canvas unmounted."),o=null,document.removeEventListener("mousemove",b,!1),document.removeEventListener("mouseup",j,!1)}));var d,v,h,m=function(t){if(e){var n=(t.deltaY||-t.wheelDelta||t.detail)>0?-1:1;f.value+=.25*n;var i=0;if(f.value=Math.min(Math.max(.5,i,f.value),4),e.offsetWidth!=+Object(l["a"])(o.width*f.value)){var a=e.getBoundingClientRect(),u=t.clientX-a.left,s=t.clientY-a.top,r=e,d=r.offsetTop,v=r.offsetLeft,h=e,m=h.offsetWidth,p=h.offsetHeight,b=o.width*f.value-m,j=o.height*f.value-p;d-=c(j*(s/p)),v-=c(b*(u/m)),console.log(o,d,v);var O=e.offsetParent,g=O.offsetHeight/2;d>g?d=c(g):d+o.height*f.value<g&&(d=c(g-o.height*f.value));var w=O.offsetWidth/2;v>w?v=c(w):v+o.width*f.value<w&&(v=c(w-o.width*f.value)),e.style.cssText="top:".concat(d,"px;left:").concat(v,"px;\n\t\t\t\twidth:").concat(100*f.value,"%;height:").concat(100*f.value,"%;")}}},p=function(t){var n=e,c=n.offsetLeft,i=n.offsetTop,a=n.offsetParent;console.log("canvas mousedown.",o,c,i,a),d=t.clientX,v=t.clientY,h={x:c,y:i,minX:a.offsetWidth/2-o.width*f.value>>0,maxX:a.offsetWidth/2>>0,minY:a.offsetHeight/2-o.height*f.value>>0,maxY:a.offsetHeight/2>>0},document.addEventListener("mousemove",b,!1),document.addEventListener("mouseup",j,!1)},b=function(t){var o=Math.max(Math.min(h.x+(t.clientX-d),h.maxX),h.minX),n=Math.max(Math.min(h.y+(t.clientY-v),h.maxY),h.minY);console.log(o,n),e.style.left="".concat(o,"px"),e.style.top="".concat(n,"px")},j=function t(e){document.removeEventListener("mousemove",b,!1),document.removeEventListener("mouseup",t,!1)};return{canvasRef:r,zoom:f,onWheel:m,onMousedown:p,items:i,addItem:a,pointActive:s}}};o("7866"),o("8097");const y=j()(w,[["render",u],["__scopeId","data-v-710c481d"]]);e["default"]=y},"246d":function(t,e,o){},"5d13":function(t,e,o){"use strict";o("246d")},6640:function(t,e,o){},7866:function(t,e,o){"use strict";o("78cd")},"78cd":function(t,e,o){},8097:function(t,e,o){"use strict";o("6640")}}]);